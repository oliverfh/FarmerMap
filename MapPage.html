<!DOCTYPE html>
<html>

<head>
  <title>Farmer Map</title>
  <meta name="viewport" content="initial-scale=1.0">
  <meta charset="utf-8">
  <style>
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
    #map {
      height: 100%;
      width: 100%;
    }

    /* Optional: Makes the sample page fill the window. */
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
  <link rel="stylesheet" href="cssFiles/navbar.css" />
  <link rel="icon" href="FarmerMapBrowserIcon.PNG">
</head>

<body>
  <header>
    <div class="wrap">
      <ul class="navigation">
        <a class="main" href="#url">FarmerMap</a>
        <li class="n1"><a href="MapPage.html">Map</a></li>
        <li class="n2"><a href="PostPage.html">Listings</a></li>
        <li class="n3"><a href="profile.html">Profile</a></li>
        <li class="n4"><a href="chatroom.html">User Chatroom</a></li>
      </ul>
    </div>
  </header>

  <header>
    <div class="wrap">
      <h5>Header</h5>
    </div>
  </header>
  <header>
    <div class="wrap">
      <h5>Header</h5>
    </div>
  </header>
  <div id="map"></div>
  <script>
    var map;
    function initMap() {
      geocoder = new google.maps.Geocoder();

      
      if(localStorage.getItem("address") =="default"){
      codeAddress("702 north columbia street")
    } else{
      codeAddress(localStorage.getItem("address"))
   
    localStorage.setItem("address","default")
    

  }
    }

    function codeAddress(address) {
      

      geocoder.geocode({ 'address': address }, function (results, status) {
        
        var latLng = { lat: results[0].geometry.location.lat(), lng: results[0].geometry.location.lng() };
        var map = new google.maps.Map(document.getElementById('map'), {
        center: latLng,
        zoom: 14
      });
        if (status == 'OK') {
          var marker = new google.maps.Marker({
            position: latLng,
            map: map
          });
          
        } else {
          alert('Geocode was not successful for the following reason: ' + status);
        }
        
       
      });
   
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCwqqhYM4lMvacWP630HTMesU3ktpTsBxA&callback=initMap"
    async defer></script>

</body>

</html>